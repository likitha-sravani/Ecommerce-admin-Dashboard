{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\likit\\\\Downloads\\\\ecommerce\\\\frontend\\\\src\\\\pages\\\\Product.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { CartContext } from '../CartContext';\nimport { getProducts } from '../api';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Product() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const {\n    cart,\n    setCart\n  } = useContext(CartContext);\n  useEffect(() => {\n    getProducts().then(setProducts).catch(() => setError('Failed to load products')).finally(() => setLoading(false));\n  }, []);\n  const addToCart = product => {\n    setCart(prev => {\n      const found = prev.find(item => item.id === product.id);\n      if (found) {\n        return prev.map(item => item.id === product.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      } else {\n        return [...prev, {\n          ...product,\n          quantity: 1\n        }];\n      }\n    });\n  };\n  console.log('products:', products);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"centered\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"centered\",\n    style: {\n      color: 'red'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 21\n  }, this);\n  if (!Array.isArray(products)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"centered\",\n      style: {\n        color: 'red'\n      },\n      children: \"Products data is not an array. Check your backend API.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginLeft: 32,\n        marginTop: 32\n      },\n      children: \"Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-grid\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.image || '/oranges-bg.jpg',\n          alt: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 'bold',\n            marginBottom: 4\n          },\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Price: \\u20B9\", Number(product.price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Stock: \", product.stock]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToCart(product),\n          children: \"ADD TO CART\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Product, \"8Zad/jJm4QdpNYoSQnv2H+ojHFE=\");\n_c = Product;\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useEffect","useState","useContext","CartContext","getProducts","jsxDEV","_jsxDEV","Product","_s","products","setProducts","loading","setLoading","error","setError","cart","setCart","then","catch","finally","addToCart","product","prev","found","find","item","id","map","quantity","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","Array","isArray","marginLeft","marginTop","src","image","alt","name","fontWeight","marginBottom","Number","price","toFixed","stock","onClick","_c","$RefreshReg$"],"sources":["C:/Users/likit/Downloads/ecommerce/frontend/src/pages/Product.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { CartContext } from '../CartContext';\r\nimport { getProducts } from '../api';\r\nimport '../App.css';\r\n\r\nfunction Product() {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const { cart, setCart } = useContext(CartContext);\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n      .then(setProducts)\r\n      .catch(() => setError('Failed to load products'))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  const addToCart = (product) => {\r\n    setCart(prev => {\r\n      const found = prev.find(item => item.id === product.id);\r\n      if (found) {\r\n        return prev.map(item =>\r\n          item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\r\n        );\r\n      } else {\r\n        return [...prev, { ...product, quantity: 1 }];\r\n      }\r\n    });\r\n  };\r\n\r\n  console.log('products:', products);\r\n\r\n  if (loading) return <div className=\"centered\">Loading...</div>;\r\n  if (error) return <div className=\"centered\" style={{ color: 'red' }}>{error}</div>;\r\n  if (!Array.isArray(products)) {\r\n    return <div className=\"centered\" style={{ color: 'red' }}>Products data is not an array. Check your backend API.</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 style={{ marginLeft: 32, marginTop: 32 }}>Products</h2>\r\n      <div className=\"products-grid\">\r\n        {products.map(product => (\r\n          <div className=\"product-card\" key={product.id}>\r\n            <img src={product.image || '/oranges-bg.jpg'} alt={product.name} />\r\n            <div style={{ fontWeight: 'bold', marginBottom: 4 }}>{product.name}</div>\r\n            <div>Price: â‚¹{Number(product.price).toFixed(2)}</div>\r\n            <div>Stock: {product.stock}</div>\r\n            <button onClick={() => addToCart(product)}>ADD TO CART</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}