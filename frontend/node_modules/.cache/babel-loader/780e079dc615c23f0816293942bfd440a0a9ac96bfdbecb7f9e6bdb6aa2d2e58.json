{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\likit\\\\Downloads\\\\ecommerce\\\\frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { CartContext } from '../CartContext';\nimport { checkout } from '../api';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Cart() {\n  _s();\n  const {\n    cart,\n    setCart,\n    user\n  } = useContext(CartContext);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const handleRemove = id => {\n    setCart(prev => prev.filter(item => item.id !== id));\n  };\n  const handleQtyChange = (id, qty) => {\n    setCart(prev => prev.map(item => item.id === id ? {\n      ...item,\n      quantity: Math.max(1, Number(qty))\n    } : item));\n  };\n  const handleCheckout = async () => {\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    try {\n      await checkout(cart, user === null || user === void 0 ? void 0 : user.token);\n      setCart([]);\n      setSuccess('Order placed successfully!');\n    } catch (err) {\n      setError('Checkout failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const total = cart.reduce((sum, item) => sum + Number(item.price) * item.quantity, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginLeft: 32,\n        marginTop: 32\n      },\n      children: \"Shopping Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-grid\",\n      children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image || '/oranges-bg.jpg',\n          alt: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 'bold',\n            marginBottom: 4\n          },\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Price: \\u20B9\", Number(item.price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Subtotal: \\u20B9\", (Number(item.price) * item.quantity).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Qty \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"1\",\n            value: item.quantity,\n            onChange: e => handleQtyChange(item.id, e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"remove-btn\",\n          onClick: () => handleRemove(item.id),\n          title: \"Remove\",\n          children: \"\\uD83D\\uDDD1\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        marginRight: 64\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-total\",\n        children: [\"Total: \\u20B9\", total.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"checkout-btn\",\n        onClick: handleCheckout,\n        disabled: loading || cart.length === 0,\n        children: loading ? 'Processing...' : 'CHECKOUT'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        textAlign: 'right',\n        marginRight: 64\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'green',\n        textAlign: 'right',\n        marginRight: 64\n      },\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"mtabCO2WJgBOFevfuTawhUIDqwo=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useContext","useState","CartContext","checkout","jsxDEV","_jsxDEV","Cart","_s","cart","setCart","user","loading","setLoading","error","setError","success","setSuccess","handleRemove","id","prev","filter","item","handleQtyChange","qty","map","quantity","Math","max","Number","handleCheckout","token","err","total","reduce","sum","price","children","style","marginLeft","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","className","src","image","alt","name","fontWeight","marginBottom","toFixed","type","min","value","onChange","e","target","onClick","title","display","alignItems","justifyContent","marginRight","disabled","length","color","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/likit/Downloads/ecommerce/frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { CartContext } from '../CartContext';\r\nimport { checkout } from '../api';\r\nimport '../App.css';\r\n\r\nfunction Cart() {\r\n  const { cart, setCart, user } = useContext(CartContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  const handleRemove = (id) => {\r\n    setCart(prev => prev.filter(item => item.id !== id));\r\n  };\r\n\r\n  const handleQtyChange = (id, qty) => {\r\n    setCart(prev => prev.map(item =>\r\n      item.id === id ? { ...item, quantity: Math.max(1, Number(qty)) } : item\r\n    ));\r\n  };\r\n\r\n  const handleCheckout = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      await checkout(cart, user?.token);\r\n      setCart([]);\r\n      setSuccess('Order placed successfully!');\r\n    } catch (err) {\r\n      setError('Checkout failed');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const total = cart.reduce((sum, item) => sum + Number(item.price) * item.quantity, 0);\r\n\r\n  return (\r\n    <div>\r\n      <h2 style={{ marginLeft: 32, marginTop: 32 }}>Shopping Cart</h2>\r\n      <div className=\"cart-grid\">\r\n        {cart.map(item => (\r\n          <div className=\"cart-card\" key={item.id}>\r\n            <img src={item.image || '/oranges-bg.jpg'} alt={item.name} />\r\n            <div style={{ fontWeight: 'bold', marginBottom: 4 }}>{item.name}</div>\r\n            <div>Price: ‚Çπ{Number(item.price).toFixed(2)}</div>\r\n            <div>Subtotal: ‚Çπ{(Number(item.price) * item.quantity).toFixed(2)}</div>\r\n            <div>\r\n              Qty <input type=\"number\" min=\"1\" value={item.quantity} onChange={e => handleQtyChange(item.id, e.target.value)} />\r\n            </div>\r\n            <button className=\"remove-btn\" onClick={() => handleRemove(item.id)} title=\"Remove\">üóëÔ∏è</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', marginRight: 64 }}>\r\n        <div className=\"cart-total\">Total: ‚Çπ{total.toFixed(2)}</div>\r\n        <button className=\"checkout-btn\" onClick={handleCheckout} disabled={loading || cart.length === 0}>\r\n          {loading ? 'Processing...' : 'CHECKOUT'}\r\n        </button>\r\n      </div>\r\n      {error && <div style={{ color: 'red', textAlign: 'right', marginRight: 64 }}>{error}</div>}\r\n      {success && <div style={{ color: 'green', textAlign: 'right', marginRight: 64 }}>{success}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart; \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}